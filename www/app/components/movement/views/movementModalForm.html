<ion-modal-view>
  <ion-header-bar class="bar bar-header bar-positive">
    <h1 class="title">{{::modal.current.modeMessage}} {{::modal.current.provisionalPlanTitle}}</h1>
    <button class="button button-clear button-primary" ng-click="hideMovementModalForm()">Annuler</button>
  </ion-header-bar>
  <ion-content class="padding">
        <form role="form" name="movementForm">
          <div class="form-group" ng-class="{ 'has-error' : movementForm.name.$invalid && movementForm.name.$dirty }">
            <label for="name">Nom*</label>
            <input type="text" class="form-control" id="name" name="name" placeholder="Nom"
                   ng-model="movementFormModel.name" required="required">
            <p ng-show="movementForm.name.$error.required && movementForm.name.$dirty" class="help-block">
              Veuillez entrer un nom de mouvement.
            </p>
          </div>
          <div class="form-group"
               ng-class="{ 'has-error' : movementForm.amount.$invalid && movementForm.amount.$dirty }">
            <label for="amount">Montant*</label>

            <input type="number" class="form-control" id="amount" name="amount" placeholder="Montant"
                   ng-model="movementFormModel.amount" required="required">
            <p ng-show="movementForm.amount.$error.required && movementForm.amount.$dirty" class="help-block">
              Veuillez entrer un montant pour ce mouvement.
            </p>
            <p ng-show="!movementForm.amount.$error.required && movementForm.amount.$invalid" class="help-block">
              Veuillez entrer un chiffre valide.
            </p>
          </div>
          <div class="form-group">
            <label for="optionsRadios">Type de mouvement*</label>
            <div class="radio-inline">
              <label>
                <input checked type="radio" name="optionsRadios" id="optionsRadios" value="down"
                       ng-model="movementFormModel.type">
                Déscendant
              </label>
            </div>
            <div class="radio-inline">
              <label>
                <input type="radio" name="optionsRadios" id="optionsRadios2" value="up"
                       ng-model="movementFormModel.type">
                Montant
              </label>
            </div>
          </div>
          <div class="form-group"
               ng-class="{ 'has-error' : movementForm.repeat.$invalid && movementForm.repeat.$dirty }">
            <label for="repeat">Répétitions*</label>

            <input type="number" class="form-control" id="repeat" name="repeat" placeholder="Répétitions"
                   ng-model="movementFormModel.repeat" required="required">
            <p ng-show="movementForm.repeat.$error.required && movementForm.repeat.$dirty" class="help-block">
              Veuillez entrer une répétition de mouvement.
            </p>
            <p ng-show="!movementForm.repeat.$error.required && movementForm.repeat.$invalid" class="help-block">
              Veuillez entrer un chiffre valide.
            </p>
          </div>
          <div class="form-group">
            <label for="comment">Commentaire</label>
            <input type="text" class="form-control" id="comment" placeholder="Commentaire"
                   ng-model="movementFormModel.comment">
          </div>
        </form>
        <div class="text-center">
          <button class="btn btn-primary btn-lg full-width" ng-click="saveThenCloseMovementModalForm(movementFormModel)" ng-disabled="movementForm.$invalid">
            Enregistrer
          </button>
        </div>
        <br/>
  </ion-content>
</ion-modal-view>
